!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var r,n;console.log("start"),r=[i(1)],n=function(){console.log("ending")}.apply(t,r),!(void 0!==n&&(e.exports=n))},function(e,t,i){var r,n;r=[i(2),i(3),i(5),i(6),i(7)],n=function(e,t,i,r){function n(){frame.clear(),a.draw(),l.draw(),h.draw()}function o(){clearInterval(d),y=!0}function s(){y?(c(),y=!1):(clearInterval(d),y=!0)}function c(){d=setInterval(function(){n(),h.canMove(void 0,void 0,o,n)},300)}var a=new t({size:20,screenHeight:300}),h=new i({size:20,maxPixelX:a.pixelX,maxPixelY:a.pixelY,borderX:a.borderX,borderY:a.borderY,randomApplePixel:function(){return l.randomPixel()},getApplePixel:function(){return l.getPixel()}}),l=new r({size:20,maxPixelX:a.pixelX,maxPixelY:a.pixelY,borderX:a.borderX,borderY:a.borderY,pixelArray:a.pixelArray,getBodyArray:function(){return h.bodyArray}});hand.on("fnn",function(e){var t=e.keyCode;switch(t){case 37:h.canMove(-1,0,o,n);break;case 38:h.canMove(0,-1,o,n);break;case 39:h.canMove(1,0,o,n);break;case 40:h.canMove(0,1,o,n);break;case 82:console.log("r");break;case 83:console.log("s"),s()}}),n();var d,y=!1;c()}.apply(t,r),!(void 0!==n&&(e.exports=n))},function(e,t,i){var r;r=function(){var e=document.createElement("div");e.className="wind",e.style={display:"none"};var t=document.getElementById("cvs-main").onclick;document.getElementById("cvs-main").onclick=function(i){t&&t(i);var r=i.clientX,n=i.clientY;0===document.getElementsByClassName("wind").length&&document.body.appendChild(e),e.style.display="block",e.style.left=r+5+"px",e.style.top=n+5+"px",e.innerHTML="x:"+r+",y:"+n,window.setTimeout(function(){e.style.display="none"},1e3)}}.call(t,i,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,i){var r,n;r=[i(4)],n=function(e){function t(t){this.pixelWidth=t.size||20,this.pixelHeight=t.size||20,this.screenWidth=t.screenWidth||e.width,this.screenHeight=t.screenHeight||e.height,this.pixelBorder=5,this.pixelX=parseInt(this.screenWidth/this.pixelWidth),this.pixelY=parseInt(this.screenHeight/this.pixelHeight),this.borderX=this.screenWidth%this.pixelWidth,this.borderY=this.screenHeight%this.pixelHeight,this.pixelY=this.screenHeight-this.pixelY*this.pixelHeight<this.borderX?this.pixelY-1:this.pixelY,this.pixelArray=[];for(var i=0;i<this.pixelX;i++)for(var r=0;r<this.pixelY;r++)this.pixelArray.push([i,r])}return t.prototype.draw=function(){e.cxt.fillStyle="#ccc",e.cxt.fillRect(this.borderX/2,this.borderX/2,this.pixelX*this.pixelWidth,this.pixelY*this.pixelHeight)},t.prototype.getPixel=function(){var e=this;return{x:e.pixelX,y:e.pixelY}},t}.apply(t,r),!(void 0!==n&&(e.exports=n))},function(e,t,i){var r;r=function(){function e(e){this.canvas=e.canvas,this.width=e.width||document.body.clientWidth,this.height=e.height||document.body.clientHeight,this.resize(this.width,this.height),this.cxt=this.canvas.getContext("2d"),this.context=this,this.elementIndex=0,this.elementArray=[],this.eventCtrl()}function t(){var e=document.body.clientWidth,t=document.body.clientHeight,r=e>t;if(r)return i.cxt.font="40px Georgia",i.cxt.fillStyle="#000",i.cxt.fillText("抱歉，不支持横屏！！！",10,40,300),!0}e.prototype.eventCtrl=function(){var e=this;e.canvas.ontouchstart=function(t){e.fire(t)},e.canvas.ontouchmove=function(t){e.fire(t)},e.canvas.ontouchend=function(t){e.fire(t)},e.canvas.ontouchcancel=function(t){e.fire(t)}},e.prototype.fire=function(e){var t=this,i=function(i){for(var r=t.elementIndex-1;r>=0&&(!(i.clientX>t.elementArray[r].x&&i.clientX<t.elementArray[r].x+t.elementArray[r].width&&i.clientY>t.elementArray[r].y&&i.clientY<t.elementArray[r].y+t.elementArray[r].height)||(window.setTimeout(function(){t.elementArray[r].fire(e)},0),t.elementArray[r].isUpEvent));r--);};switch(e.type.toLowerCase()){case"click":i({clientX:e.clientX,clientY:e.clientY,type:e.type.toLowerCase()});break;case"touchstart":i({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,type:e.type.toLowerCase()});break;case"touchmove":i({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type.toLowerCase()});break;case"touchend":i({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type.toLowerCase()});break;case"touchcancel":console.log("touchcancel")}},e.prototype.resize=function(e,t){var i=this;i.width=e||i.width,i.height=t||i.height,i.canvas.setAttribute("width",i.width),i.canvas.setAttribute("height",i.height)},e.prototype.clear=function(){var e=this;e.canvas.setAttribute("width",e.width)},e.prototype.manage=function(e){var t=this;t.elementArray.push(e),t.elementIndex++},e.prototype.destroy=function(e){};var i=new e({canvas:document.getElementById("cvs-main"),width:document.body.clientWidth,height:document.body.clientHeight});return t(),window.onresize=function(e){if(i.resize(document.body.clientWidth,document.body.clientHeight),!t())for(var r=i.elementIndex-1;r>=0;r--)!function(e){setTimeout(function(){i.elementArray[e].draw()},0)}(r)},window.frame=i,i}.call(t,i,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,i){var r;r=function(){function e(e){this.defaultLength=4,this.bodyArray=[[[2,0,1,0],[1,0,1,0],[0,0,1,0]]],this.bodyLength=this.bodyArray.length,this.bodyColor="#c0F",this.size=e.size||20,this.maxPixelX=e.maxPixelX,this.maxPixelY=e.maxPixelY,this.borderX=e.borderX,this.borderY=e.borderY,this.getApplePixel=e.getApplePixel,this.randomApplePixel=e.randomApplePixel,this.directX=1,this.directY=0}return e.prototype.down=function(e,t){this.canMove(0,1,e,t)},e.prototype.up=function(e,t){this.canMove(0,-1,e,t)},e.prototype.left=function(e,t){this.canMove(-1,0,e,t)},e.prototype.right=function(e,t){this.canMove(1,0,e,t)},e.prototype.canMove=function(e,t,i,r){var n={directX:this.directX,directY:this.directY};e=void 0===e?this.directX:e,t=void 0===t?this.directY:t;for(var o=!1,s=0,c=this.bodyArray.length;s<c;s++)for(var a=0,h=this.bodyArray[s].length;a<h;a++)this.bodyArray[s][a][0]===this.bodyArray[0][0][0]+e&&this.bodyArray[s][a][1]===this.bodyArray[0][0][1]+t&&(o=!0);n.directX+e===0&&n.directY+t===0||(this.bodyArray[0][0][0]+e<0||this.bodyArray[0][0][0]+e>this.maxPixelX-1||this.bodyArray[0][0][1]+t<0||this.bodyArray[0][0][1]+t>this.maxPixelY-1||o?(i&&i(),confirm("重新开始？")&&(window.location.href=window.location.href)):(this.directX=e,this.directY=t,this.move(void 0,void 0,n.directX!==this.directX||n.directY!==this.directY,r)))},e.prototype.move=function(e,t,i,r){e=void 0===e?this.directX:e,t=void 0===t?this.directY:t;var n=this.getApplePixel(),o={x:this.bodyArray[0][0][0],y:this.bodyArray[0][0][1],direceX:this.bodyArray[0][0][2],direceY:this.bodyArray[0][0][3]};if(i?(this.bodyArray[this.bodyArray.length-1].pop(),0===this.bodyArray[this.bodyArray.length-1].length&&this.bodyArray.pop(),this.bodyArray.unshift([[o.x+e,o.y+t,e,t]])):(this.bodyArray[this.bodyArray.length-1].pop(),0===this.bodyArray[this.bodyArray.length-1].length&&this.bodyArray.pop(),this.bodyArray[0].unshift([o.x+e,o.y+t,e,t])),n.x===o.x+e&&n.y===o.y+t){this.randomApplePixel();var s=this.bodyArray.length-1,c=this.bodyArray[s],a=c.length-1;this.bodyArray[s].push([c[a][0]-c[0][2],c[a][1]-c[0][3],c[0][2],c[0][3]])}r&&r()},e.prototype.draw=function(){frame.cxt.fillStyle="#F00";for(var e=0,t=this.bodyArray.length;e<t;e++)for(var i=0,r=this.bodyArray[e].length;i<r;i++)0===e&&0===i||(frame.cxt.fillStyle="#00F"),frame.cxt.fillRect(this.bodyArray[e][i][0]*this.size+this.borderX/2,this.bodyArray[e][i][1]*this.size+this.borderX/2,this.size,this.size)},e}.call(t,i,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,i){var r;r=function(){function e(e){this.size=e.size||20,this.maxPixelX=e.maxPixelX,this.maxPixelY=e.maxPixelY,this.borderX=e.borderX,this.borderY=e.borderY,this.pixelArray=e.pixelArray,this.getBodyArray=e.getBodyArray,this.pixelX=parseInt(this.maxPixelX*Math.random()),this.pixelY=parseInt(this.maxPixelY*Math.random())}return e.prototype.draw=function(){var e=this;frame.cxt.fillStyle="#09bb07",frame.cxt.fillRect(e.pixelX*e.size+e.borderX/2,e.pixelY*e.size+e.borderX/2,e.size,e.size)},e.prototype.randomPixel=function(){for(var e=[].concat(this.pixelArray),t=[].concat(this.getBodyArray()),i=[],r=0,n=t.length;r<n;r++)i=i.concat(t[r]);for(var o=0,s=this.pixelArray.length;o<s;o++)for(var c=0,a=i.length;c<a;c++)this.pixelArray[o][0]===i[c][0]&&this.pixelArray[o][1]===i[c][1]&&e.splice(o,1);if(0===e.length)return void(confirm(" you are NB!!! /r/n restart the game？")&&(location.href=location.href));var h=e[parseInt(e.length*Math.random())];this.pixelX=h[0],this.pixelY=h[1]},e.prototype.getPixel=function(){var e=this;return{x:e.pixelX,y:e.pixelY}},e}.call(t,i,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,i){var r;r=function(){var e={eventArray:[],fire:function(e){for(var t=this,i=this.eventArray.length-1;i>=0;i--)!function(e,i){setTimeout(function(){t.eventArray[e].fn&&t.eventArray[e].fn(i)},0)}(i,e)},off:function(e){for(var t=this.eventArray.length-1;t>=0;t--)e===this.eventArray[t].name&&this.eventArray.splice(t,1)},on:function(e,t){this.eventArray.push({name:e,fn:t})}};window.onkeydown=function(t){e.fire(t)},window.onkeypress=function(e){},window.onkeyup=function(e){};var t=document.getElementsByClassName("leftctrl")[0],i=document.getElementsByClassName("upctrl")[0],r=document.getElementsByClassName("rightctrl")[0],n=document.getElementsByClassName("downctrl")[0],o=document.getElementsByClassName("stop")[0],s=document.getElementsByClassName("reset")[0];t.onclick=function(){e.fire({keyCode:37})},i.onclick=function(){e.fire({keyCode:38})},r.onclick=function(){e.fire({keyCode:39})},n.onclick=function(){e.fire({keyCode:40})},s.onclick=function(){e.fire({keyCode:82})},o.onclick=function(){e.fire({keyCode:83})},window.hand=e}.call(t,i,t,e),!(void 0!==r&&(e.exports=r))}]);